# 自选股票功能说明

## 功能概述

自选股票功能允许用户管理个人关注的股票池，实时监控市场动态，是股票投资决策的重要工具。

## 主要特性

### 1. 股票管理
- ✅ **添加股票**: 手动输入股票代码添加到自选池
- ✅ **删除股票**: 从自选池中移除不需要的股票
- ✅ **重复检查**: 自动检测并提示重复添加的股票
- ✅ **股票名称**: 自动获取并显示股票名称

### 2. 实时数据
- ✅ **30秒自动刷新**: 股票信息每30秒自动更新
- ✅ **手动刷新**: 支持手动刷新按钮
- ✅ **实时价格**: 显示最新价格、涨跌幅、涨跌额
- ✅ **交易数据**: 显示成交量、成交额等关键指标

### 3. 数据展示
- ✅ **表格排序**: 支持按任意列排序（升序/降序）
- ✅ **响应式设计**: 支持桌面端和移动端
- ✅ **美观界面**: 现代化UI设计，良好的用户体验

## 技术实现

### 服务端 (Python FastAPI)
- **数据库**: SQLite数据库存储自选股票
- **API接口**: RESTful API设计
- **数据源**: 使用akshare获取实时股票数据
- **错误处理**: 完善的异常处理和用户提示

### 客户端 (Next.js React)
- **状态管理**: React Hooks管理组件状态
- **自动刷新**: useEffect实现定时刷新
- **排序功能**: 客户端排序算法
- **响应式UI**: Tailwind CSS + 自定义组件

## API接口说明

### 1. 添加股票
```
POST /watchlist/add
Content-Type: application/json

{
  "stock_code": "000001"
}
```

### 2. 获取自选股票列表
```
GET /watchlist/list
```

### 3. 删除股票
```
DELETE /watchlist/remove/{stock_code}
```

### 4. 获取股票实时信息
```
GET /watchlist/stocks/info
```

## 使用方法

### 1. 访问自选页面
- 在导航栏点击"自选"按钮
- 或直接访问 `/watchlist` 路径

### 2. 添加股票
- 在"添加股票"区域输入股票代码
- 点击"添加"按钮或按回车键
- 系统会自动检查重复并获取股票名称

### 3. 管理股票
- 查看股票实时信息（价格、涨跌幅等）
- 点击表头进行排序
- 使用删除按钮移除不需要的股票

### 4. 数据刷新
- 数据每30秒自动刷新
- 可点击"刷新"按钮手动更新

## 注意事项

1. **股票代码格式**: 请输入6位数字股票代码（如：000001）
2. **网络连接**: 确保服务端正常运行（端口8000）
3. **数据延迟**: 股票数据可能有1-2分钟延迟
4. **交易时间**: 非交易时间数据可能显示为N/A

## 故障排除

### 常见问题
1. **无法添加股票**: 检查股票代码格式和网络连接
2. **数据不更新**: 确认服务端正常运行
3. **页面无法访问**: 检查客户端是否启动（端口8001）

### 日志查看
- 服务端日志会显示详细的错误信息
- 客户端控制台会显示API调用状态

## 未来扩展

- [ ] 股票分类管理
- [ ] 价格提醒功能
- [ ] 历史数据查看
- [ ] 导出功能
- [ ] 多用户支持

## 技术栈

- **后端**: Python + FastAPI + SQLite + akshare
- **前端**: Next.js + React + TypeScript + Tailwind CSS
- **数据库**: SQLite
- **部署**: Docker支持

---

*最后更新: 2024年8月*
